CREATE TABLE MOVIE
(
	MOVIEID INTEGER NOT NULL PRIMARY KEY,
	TITLE VARCHAR(200) NOT NULL,
	DESCRIPTION VARCHAR(1000),
	STORYLINE BLOB SUB_TYPE TEXT,
	RELEASEYEAR INTEGER,
	RELEASEDATE TIMESTAMP,
	RUNTIME INTEGER
);

CREATE GENERATOR MOVIE_GEN;

commit transaction;

SET TERM ^ ;

CREATE TRIGGER MOVIE_GEN_TRG FOR MOVIE
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    IF (NEW.MOVIEID IS NULL) THEN
        NEW.MOVIEID = GEN_ID(MOVIE_GEN, 1);
END^


set term ; ^

COMMIT TRANSACTION;
